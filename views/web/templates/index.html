<!DOCTYPE html>
<html lang="en" class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="with safekeeper you can easly and safely saveyour files to transport them">
        <meta name="author" content="depannit : Antonio Pisanello">

        <title>Safekeeper</title>


        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <!-- Custom styles for this template-->
        <link href="{{url_for('static', filename='css/safekeeper.css')}}" rel="stylesheet" type="text/css">
        <script>(function(e,t,n){var r=e.querySelectorAll("html")[0];r.className=r.className.replace(/(^|s)no-js(s|$)/,"$1js$2")})(document,window,0);</script>
    </head>

    <body id="container">
        <nav id="navbarHome" class="navbar navbar-expand-lg navbar-light">
            <a id="navbarTitle" class="navbar-brand" href="#">Safekeeper</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!--<div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Pricing</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link disabled" href="#">Disabled</a>
                    </li>
                </ul>
            </div>-->
        </nav>
        <div id="droppingzone" class="container">
            <form class="box" method="POST" action="/droppedfiles" enctype="multipart/form-data">
                <div class="box__input">
                    <svg class="box__icon" xmlns="http://www.w3.org/2000/svg" width="150" height="129" viewBox="0 0 50 43"><path d="M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z"></path></svg>
                    <!--<input class="hideInputFile" type="file" name="files[]" id="file" data-multiple-caption="{count} files selected" multiple />
                    <label for="file"><strong>Choose a file</strong><span class="box__dragndrop"> or drag it here</span>.</label>-->
                    <input type="file" name="databasefile" id="files" class="inputfile inputfile-1" data-multiple-caption="{count} files selected" multiple />
					<label for="files"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg> <span>Choose a file&hellip;</span></label>
                    <button class="box__button" type="submit">Upload</button>
                </div>
                <div class="box__uploading">Uploadingâ€¦</div>
                <div class="box__success">Done!</div>
                <div class="box__error">Error! <span></span>.</div>
            </form>
        </div>
        <div class="container">
            <div id="input_pwd">
                <form action="/password" method="post">
                    <input type="input" name="ipt_pwd" id="ipt_pwd" >
                    <input type="submit" name="btn_pwd" id="btn_pwd" value="Send Password">
                </form>
            </div>
        </div>

        <div class="panel-footer">
            <p>&copy; Company | Privacy | Terms</p>
      </div>

    </body>
    <script src="https://cdn.socket.io/socket.io-3.0.1.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script src="{{url_for('static', filename='js/drag_and_drop.js')}}"></script>
    <script src="{{url_for('static', filename='js/jquery.custom_input_file.js')}}"></script>
    <script src="{{url_for('static', filename='js/ajax.submit_files.js')}}"></script>
    <script src="{{url_for('static', filename='js/uuid4.js')}}"></script>
    <script>
        "use strict";
        var socket = io.connect('http://127.0.0.1:13226');
        var uuid = '{{ client_uuid }}';
        if(uuid === "None") {
            uuid = uuidv4()
        }

        socket.emit("connection", uuid);

        socket.on("infos", function (info) {
            alert(info);
        });

        socket.on('request_pwd', function (fn) {
            /*$("#btn_pwd").click(function (){
                let val = $("#ipt_pwd").val();
                fn(val);
                $("#input_pwd").fadeOut();
            })*/
            $("#input_pwd").fadeIn();
        });

        $(document).ready(function (){
            $("#input_pwd").hide();
        });
    </script>
</html>
